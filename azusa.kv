#:kivy 2.0


MDScreen:


    MDCard:

        padding: '10dp'
        spacing: '20dp'

        size_hint: 1, 1
        #pos_hint: {"center_x": .5, "center_y": 0}
        orientation: 'vertical'

        MDToolbar:
            title: 'Azusa - Manga Downloader'
            font_size: 30
            text_color: 1, 1, 1, 1

        MDTextField:
            id: url
            hint_text: 'URL'
            mode: 'rectangle'
            text: ''
            size_hint_x: .9
            pos_hint: {"center_x": .5}
            readonly: False
            multiline: False
            helper_text: "Invalid url!"
            helper_text_mode: "on_error"
            required: True

        MDTextField:
            id: directory
            hint_text: 'Save directory'
            mode: 'rectangle'
            text: ''
            size_hint_x: .9
            pos_hint: {"center_x": .5}
            readonly: False
            multiline: False
            helper_text: "Invalid directory!"
            helper_text_mode: "on_error"
            required: True


        MDBoxLayout:
            spacing: 20

            size_hint: .925, 1
            pos_hint: {'center_x': .5}
            orientation: 'horizontal'

            MDLabel:
                id: cpu_label
                text: 'Parellel processes count'
                size_hint_x: 0.25
                halign: 'left'

            MDSlider:
                id: cpu_count_slider
                min: 1
                max: 10
                value: 4
                step: 1
                size_hint_x: 0.75
                

        MDBoxLayout:
            size_hint: .925, 1
            pos_hint: {'center_x': .5}
            orientation: 'horizontal' 

            MDRectangleFlatButton:
                id: serialize_check
                text: 'Serialize chapter names'
                md_bg_color: 1, 1, 1, 1
                text_color: app.theme_cls.primary_color
                pos_hint: {"center_x": .125}
                on_press: app.serialize()
                disabled: False
                current: False


        MDBoxLayout:
            orientation: 'horizontal'

            spacing: 25
            padding: 10

            size_hint: 1, 1


            MDRaisedButton:
                id: batch_download
                text: 'Batch Download!'
                size_hint: 1, 1
                on_press: app.start_download()
                disabled: False

            MDRaisedButton:
                id: cancel_download
                text: 'Cancel!'
                size_hint: 1, 1
                on_press: app.cancel_download()
                disabled: True


        MDProgressBar:
            id: download_progress
            value: 0
            min: 0
            max: 100
            size_hint_x: 0.8
            pos_hint: {'center_x':0.5}


        MDLabel:
            id: download_status
            text: 'Download not started yet!'
            halign: 'center'
        

        Image:
            id: gif
            source: 'animation.gif'
            opacity: 0
            size_hint: (1,1)
            pos_hint: {'center_x':0.5}

        MDBoxLayout:
            orientation: 'horizontal'
            spacing: 10

            MDLabel:
                id: version_code
                text: 'Developer : sndev28\nVer 4.00.00'
                font_size: 12
                halign: 'right'
                size_hint: (0.2, 0.25)

            MDBoxLayout:
                size_hint: .02, .4

                MDRaisedButton:
                    id: update
                    text: 'Update'
                    font_size: 10
                    size_hint: 1, 1
                    on_press: app.updater_button()
                    disabled: False



            

